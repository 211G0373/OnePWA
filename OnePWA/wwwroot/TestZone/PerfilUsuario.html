<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ONE - PERFIL</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="profile-page">

    <a href="index.html" class="back-btn-container">
        <svg width="37" height="37" viewBox="0 0 67 67" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="33.3511" cy="33.3511" r="33.3511" fill="#8B9EA9" />
            <path d="M37.6543 19.3651L25.8694 33.3017L37.6543 47.337" stroke="white" stroke-width="4.30336"
                  stroke-linecap="round" stroke-linejoin="round" />
        </svg>
    </a>

    <img src="Assets/destello.svg" alt="" class="floating-card-index floating-card-1">
    <img src="Assets/destelloVerde.svg" alt="" class="floating-card-index floating-card-2">
    <img src="Assets/destelloRojo.svg" alt="" class="floating-card-index floating-card-3">
    <img src="Assets/destelloAzul.svg" alt="" class="floating-card-index floating-card-4">
    <img src="Assets/destello.svg" alt="" class="floating-card-index floating-card-5">
    <img src="Assets/destelloVerde.svg" alt="" class="floating-card-index floating-card-6">
    <img src="Assets/destelloRojo.svg" alt="" class="floating-card-index floating-card-7">
    <img src="Assets/destelloAzul.svg" alt="" class="floating-card-index floating-card-8">

    <div class="profile-card">

        <h1 class="profile-title">Perfil de Usuario</h1>

        <div class="profile-avatar">
            <img src="Assets/profilePic.png" alt="Foto de perfil" class="profile-avatar-img">
            <button type="button" class="edit-avatar-btn" aria-label="Editar foto de perfil">
                <img src="Assets/editProfile.svg" alt="">
            </button>
        </div>

        <form class="profile-form" id="profileForm">
            <div class="profile-field">
                <label for="username">Nombre de Usuario</label>
                <input type="text" class="profile-input" placeholder="Nombre" id="username" required>
            </div>

            <div class="profile-field">
                <label for="password">Contraseña</label>
                <div class="profile-input-wrapper">
                    <input type="password" class="profile-input" placeholder="************" id="password" value="************" required>
                    <button type="button" class="password-toggle" aria-label="Mostrar contraseña">
                        <ion-icon name="eye-outline"></ion-icon>
                    </button>
                </div>
            </div>

            <div class="profile-actions">
                <button type="submit" class="login-button profile-primary-btn">Guardar Cambios</button>
                <button type="button" class="login-button profile-secondary-btn">Cerrar Sesión</button>
            </div>
        </form>

    </div>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="script.js"></script>
    <script>

 
        function obtenerDatosDelToken() {
            console.log("d");

            const token = localStorage.getItem('jwtToken');
            console.log(token);
            const payload = token.split('.')[1];
            console.log(payload);


            const decoded = JSON.parse(atob(payload));

            console.log(decoded);
            return decoded;
        }

        function cargarDatosUsuario() {
            const datos = obtenerDatosDelToken();
            document.querySelector('.profile-input').value = datos.unique_name;
            //document.getElementById('.password-toggle').textContent = datos.password;
           
        }

        cargarDatosUsuario();

    </script>

</body>
</html>
