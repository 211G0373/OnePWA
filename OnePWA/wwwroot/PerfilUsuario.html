<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ONE - PERFIL</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="profile-page">

    <a href="index.html" class="back-btn-container">
        <svg width="37" height="37" viewBox="0 0 67 67" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="33.3511" cy="33.3511" r="33.3511" fill="#8B9EA9" />
            <path d="M37.6543 19.3651L25.8694 33.3017L37.6543 47.337" stroke="white" stroke-width="4.30336"
                  stroke-linecap="round" stroke-linejoin="round" />
        </svg>
    </a>

    <img src="Assets/destello.svg" alt="" class="floating-card-index floating-card-1">
    <img src="Assets/destelloVerde.svg" alt="" class="floating-card-index floating-card-2">
    <img src="Assets/destelloRojo.svg" alt="" class="floating-card-index floating-card-3">
    <img src="Assets/destelloAzul.svg" alt="" class="floating-card-index floating-card-4">
    <img src="Assets/destello.svg" alt="" class="floating-card-index floating-card-5">
    <img src="Assets/destelloVerde.svg" alt="" class="floating-card-index floating-card-6">
    <img src="Assets/destelloRojo.svg" alt="" class="floating-card-index floating-card-7">
    <img src="Assets/destelloAzul.svg" alt="" class="floating-card-index floating-card-8">

    <div class="profile-card">

        <h1 class="profile-title">Perfil de Usuario</h1>

        <div class="profile-avatar">
            <img src="Assets/profilePic.png" alt="Foto de perfil" class="profile-avatar-img">
            <button type="button" class="edit-avatar-btn" aria-label="Editar foto de perfil" onclick="openAvatarModal()">
                <img src="Assets/editProfile.svg" alt="">
            </button>
        </div>

        <form class="profile-form" id="profileForm">
            <div class="profile-field">
                <label for="username">Nombre de Usuario</label>
                <input type="text" class="profile-input" placeholder="Patrick" id="username" value="Patrick" required>
            </div>

            <div class="profile-field">
                <label for="password">Contraseña</label>
                <div class="profile-input-wrapper">
                    <input type="password" class="profile-input" placeholder="Contraseña" id="password" value="Contraseña" required>
                    <button type="button" class="password-toggle" aria-label="Mostrar contraseña">
                        <ion-icon name="eye-outline"></ion-icon>
                    </button>
                </div>
            </div>

            <div class="profile-actions">
                <a href="PerfilUsuario.html" class="login-button profile-primary-btn action-link">Guardar Cambios</a>
                <a href="login.html" class="login-button profile-secondary-btn action-link">Cerrar Sesión</a>
            </div>
        </form>

    </div>

    <div id="avatarModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeAvatarModal()">&times;</span>
            <h2 class="modal-title">Selecciona tu Avatar</h2>
            <div class="avatar-grid">
                <div class="avatar-option" data-avatar="1.png">
                    <img src="Assets/Avatares/1.png" alt="Avatar 1">
                </div>
                <div class="avatar-option" data-avatar="2.png">
                    <img src="Assets/Avatares/1.png" alt="Avatar 2">
                </div>
                <div class="avatar-option" data-avatar="3.png">
                    <img src="Assets/Avatares/1.png" alt="Avatar 3">
                </div>
                <div class="avatar-option" data-avatar="4.png">
                    <img src="Assets/Avatares/1.png" alt="Avatar 4">
                </div>
                <div class="avatar-option" data-avatar="5.png">
                    <img src="Assets/Avatares/1.png" alt="Avatar 5">
                </div>
                <div class="avatar-option" data-avatar="6.png">
                    <img src="Assets/Avatares/1.png" alt="Avatar 6">
                </div>
                <div class="avatar-option" data-avatar="7.png">
                    <img src="Assets/Avatares/1.png" alt="Avatar 7">
                </div>
                <div class="avatar-option" data-avatar="8.png">
                    <img src="Assets/Avatares/1.png" alt="Avatar 8">
                </div>
                <div class="avatar-option" data-avatar="9.png">
                    <img src="Assets/Avatares/1.png" alt="Avatar 9">
                </div>
                <div class="avatar-option" data-avatar="10.png">
                    <img src="Assets/Avatares/1.png" alt="Avatar 10">
                </div>
            </div>
        </div>
    </div>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="script.js"></script>
    <script>

 
        document.addEventListener('DOMContentLoaded', async (e) => {
            const token = localStorage.getItem('jwtToken');
            const headers = {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${token}`
            };
            console.log("hi + "+ token);



            try {
                const respuesta = await fetch('/api/Users/profile', { headers });

                if (respuesta.ok) {
                    const datos = await datos.json();
                } else if (datos.status === 401) {
                    console.log("AINT WORKING");
                }
            } catch (error) {
                console.error('Error cargando tareas:', error);
            }
        });

    </script>

</body>
</html>
